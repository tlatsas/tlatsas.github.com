<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Tag: python | > kodama.gr_]]></title>
  <link href="http://www.kodama.gr/tags/python/atom.xml" rel="self"/>
  <link href="http://www.kodama.gr/"/>
  <updated>2013-10-13T14:34:25+03:00</updated>
  <id>http://www.kodama.gr/</id>
  <author>
    <name><![CDATA[Tasos Latsas]]></name>
    <email><![CDATA[tlatsas@gmx.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[preview sphinx documentation]]></title>
    <link href="http://www.kodama.gr/2013/07/23/preview-sphinx-documentation/"/>
    <updated>2013-07-23T11:28:59+03:00</updated>
    <id>http://www.kodama.gr/2013/07/23/preview-sphinx-documentation</id>
    <content type="html"><![CDATA[<p>I recently released a very small utility called <a href="https://github.com/tlatsas/sphinx-serve">sphinx-serve</a> which
helps me preview sphinx documentation locally. It spawns a simple http
server on the documentation folder (html or singlehtml).</p>

<p>Installation is very simple, in the same virtual environment with your
sphinx documentation issue <code>pip install sphinx-serve</code>. This will make
the <strong>sphinx-serve</strong> command available.</p>

<p>When you issue the above command the scipt tries to detect the build
folder of the documentation. It searches the current working directory
plus it navigates backwards in case you are in a deeper level (much
like the bundler utility). When it finds the build folder (the folder
name is configurable through the <code>--build</code> argument) it spawns a simple
http server. It serves files from the <strong>http</strong> folder (default) or from
the <strong>singlehtml</strong> folder if <code>--single</code> is supplied.</p>

<p>It is handy to add the sphinx-serve command with any required arguments
to the sphinx Makefile:</p>

<pre><code>preview:
    sphinx-serve --single --port 4000
</code></pre>

<p>now you can easily preview your documentation by issuing <code>make preview</code>.</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[datetime to timestamp in python]]></title>
    <link href="http://www.kodama.gr/2011/04/19/datetime-to-timestamp-in-python/"/>
    <updated>2011-04-19T08:51:27+03:00</updated>
    <id>http://www.kodama.gr/2011/04/19/datetime-to-timestamp-in-python</id>
    <content type="html"><![CDATA[<p>Say you got a file’s last update time, using the stat command
<div class="highlight"><pre><code class="python"><span class="err">»</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="kn">import</span> <span class="nn">os</span>
<span class="err">»</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">disk_ts</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="err">‘</span><span class="n">filename</span><span class="err">’</span><span class="p">)</span><span class="o">.</span><span class="n">st_ctime</span>
<span class="err">»</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">disk_ts</span>
<span class="mf">1303113637.0</span>
</code></pre></div></p>

<p>and you want to compare it with a datetime object:
<div class="highlight"><pre><code class="python"><span class="err">»</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="kn">import</span> <span class="nn">datetime</span>
<span class="err">»</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">499000</span><span class="p">)</span>
<span class="err">»</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">dt</span>
<span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">499000</span><span class="p">)</span>
</code></pre></div></p>

<p>Convert the datetime object using the time module:
<div class="highlight"><pre><code class="python"><span class="err">»</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="kn">import</span> <span class="nn">time</span>
<span class="err">»</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">dtime_ts</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">mktime</span><span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">timetuple</span><span class="p">())</span>
<span class="err">»</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">dtime_ts</span>
<span class="mf">1298461680.0</span>
</code></pre></div></p>

<p>now compare and rejoice! Also, if you want to display timestamps in a human-friendly format use time.ctime
<div class="highlight"><pre><code class="python"><span class="err">»</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">(</span><span class="n">disk_ts</span><span class="p">)</span>
<span class="err">‘</span><span class="n">Mon</span> <span class="n">Apr</span> <span class="mi">18</span> <span class="mi">11</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mi">37</span> <span class="mi">2011</span><span class="err">’</span>
<span class="err">»</span><span class="o">&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="n">time</span><span class="o">.</span><span class="n">ctime</span><span class="p">(</span><span class="n">dtime_ts</span><span class="p">)</span>
<span class="err">‘</span><span class="n">Wed</span> <span class="n">Feb</span> <span class="mi">23</span> <span class="mi">13</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mo">00</span> <span class="mi">2011</span><span class="err">’</span>
</code></pre></div></p>
]]></content>
  </entry>
  
</feed>
